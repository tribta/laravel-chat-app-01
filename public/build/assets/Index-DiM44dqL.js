import{r as l,u as x,j as e,a as j}from"./app-CFIlwbgl.js";import{C as g,a as v}from"./ConversationList-tgsGIxO7.js";import{A as N}from"./app-layout-DU8H63qh.js";/* empty css            */import"./app-logo-icon-QhhZ_q2L.js";import"./index-DELhlBfh.js";import"./index-CQpm2N4k.js";import"./index-C61bzdNy.js";function _({users:i=[]}){const[t,o]=l.useState(""),{data:r,setData:u,reset:m,errors:a}=x({user_ids:[],name:void 0}),[c,d]=l.useState(!1),p=s=>{u("user_ids",r.user_ids.includes(s)?r.user_ids.filter(n=>n!==s):[...r.user_ids,s])},h=s=>{s.preventDefault();const n={user_ids:r.user_ids,name:r.user_ids.length>=2&&t||void 0};n.user_ids.length&&j.post("/chat",n,{onStart:()=>d(!0),onFinish:()=>d(!1),onSuccess:()=>{m(),o("")}})};return e.jsxs("form",{onSubmit:h,className:"nc-form",children:[e.jsx("div",{className:"nc-title",children:"Create New Conversation"}),r.user_ids.length>=2&&e.jsx("input",{className:"nc-groupname",value:t,onChange:s=>o(s.target.value),placeholder:"Enter Your GroupName (optional)"}),e.jsx("div",{className:"nc-list",children:i.map(s=>e.jsxs("label",{className:"nc-item",children:[e.jsx("input",{type:"checkbox",checked:r.user_ids.includes(s.id),onChange:()=>p(s.id)}),e.jsxs("div",{children:[e.jsx("div",{className:"nc-name",children:s.name}),e.jsx("div",{className:"nc-email",children:s.email})]})]},s.id))}),a.user_ids&&e.jsx("div",{className:"nc-error",children:String(a.user_ids)}),a.name&&e.jsx("div",{className:"nc-error",children:String(a.name)}),e.jsx("button",{className:"nc-submit",type:"submit",disabled:c||r.user_ids.length===0,children:c?"Creating...":"Create"})]})}function k({conversations:i,users:t}){return e.jsx(N,{children:e.jsx(g,{sidebar:e.jsxs(e.Fragment,{children:[e.jsx(_,{users:t}),e.jsx(v,{conversations:i})]}),children:e.jsx("p",{children:"No Message Found."})})})}export{k as default};
